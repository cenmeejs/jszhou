<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>无标题</title>
		<style type="text/css">
			#span2{
				display:block;
				background: #f00;
			}
			#span3{
				display:block;
				background: #0f0;
			}
			#span4{
				display:block;
				background: #00f;
			}
		</style>
	</head>
	<body>
		<div id="div1">
			<div id="div2">
				<p id="p">
					<span id="span1">
						<span id="span2" onclick="fun2(0)">点我，没设stopPropagation</span><br>
						<span id="span3" onclick="fun2(1)">点我，设了stopPropagation</span><br>
						<span id="span4" onclick="fun2(2)">点我，设了stopImmediatePropagation</span>
					</span>
				</p>
			</div>
		</div>
		<!-- HTML代码为 -->
		 <ul id="test">
		   <li>item 1</li>
		   <li>item 2</li>
		   <li>item 3</li>
		 </ul>
		<script type="text/javascript">	
			var test = document.getElementById("test");

			// 进入test节点以后，该事件只会触发一次
			/*test.addEventListener("mouseenter", function( event ) {
			  event.target.style.color = "purple";
			  setTimeout(function() {
				event.target.style.color = "";
			  }, 500);
			}, false);*/

			// 接入test节点以后，只要在子Element节点上移动，该事件会触发多次
			test.addEventListener("mouseover", function( event ) {
			  event.target.style.color = "orange";
			  setTimeout(function() {
				event.target.style.color = "";
			  }, 500);
			}, false);
		
			/*p.addEventListener("click",fun3,false);
			span1.addEventListener("click",fun,false);
			div2.addEventListener("click",fun,false);
			div1.addEventListener("click",fun,false);
			function fun(){
				alert(event.currentTarget.id);
			}
			function fun1(){
				event.stopPropagation();
			}
			function fun3(){
				alert(event.currentTarget.id);
			}
			function fun4(){
				event.stopImmediatePropagation();
			}
			function fun2(a){
				alert(event.currentTarget.id);
				if(a==0){
					p.removeEventListener("click",fun1,false);
					p.addEventListener("click",fun,false);
				}else if(a==1){
					p.removeEventListener("click",fun,false);
					p.addEventListener("click",fun1,false);
				}else if(a==2){
					p.addEventListener("click",fun4,false);
				}
			}
			*/
		</script>
	</body>
</html>