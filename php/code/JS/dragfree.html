<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>无标题</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			html,body,#wrap{
				width: 100%;
				height: 100%;
			}
			#wrap{
				position: absolute;
				background: rgba(0,0,0,.5);
				display:none;
				top:0;
				left: 0;
			}
			#drag{
				width: 300px;
				height: 400px;
				position: absolute;
				background: #fff;
			}
			#dragDiv{
				width: 100%;
				height: 60px;
				background:#ccc;
				cursor:move;
			}
		</style>
	</head>
	<body>
		<a id="login" href="javascript:(void);">登录</a>
		<div id="wrap">
			<div id="drag">
				<div id="dragDiv"></div>
			</div>
		</div>
		<script>
			var	w=window.innerWidth||document.documentElement.clientWidth,
				h=window.innerHeight||document.documentElement.clientHeight,
				medx=w/2-150,
				medy=h/2-200,
				ox,
				oy;
			login.onclick=function(){
				wrap.style.display="block";
				drag.style.left=medx+"px";
				drag.style.top=medy+"px";
			};
			dragDiv.onmousedown=function(){
				var x=event.clientX,
					y=event.clientY;
				a=0;
				dragDiv.onmousemove=function(){
					var nowx=medx+event.clientX-x,
						nowy=medy+event.clientY-y;
					if(a==0){
						ox=(nowx<=0?0:(nowx>=w-300?w-300:nowx));
						oy=(nowy<=0?0:(nowy>=h-400?h-400:nowy));
						drag.style.left=ox+"px";
						drag.style.top=oy+"px";
					}
				};
				wrap.onmouseup=function(){
					a=1;
					medx=ox;
					medy=oy;
				};
				dragDiv.onmouseout=function(){
					a=1;
					medx=ox;
					medy=oy;
				};
				return false;
			};
			
		</script>
	</body>
</html>